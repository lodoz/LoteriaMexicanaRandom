@{
    Layout = null;
}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/loteria.css" rel="stylesheet">

    <title>Lotería</title>
    <style>
        .col {
            cursor: pointer;
        }
        .check-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            width: 80%;
            height: 80%;
            object-fit: contain;
        }
        .tarjeta {
            position: relative;
        }
        .tarjeta.active img {
            opacity: .5;
        }
        .tarjeta.active:before {
            content: "";
            background-image: url("/img/frijol-solo.png");
            background-size: 80%;
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 99;
        }
    </style>
</head>
<body> 
    <div class="pagina d-flex align-items-center"> 
        <div class="container">
            <div class="row">
                <div class="col-md-9 mx-auto">
                    <div class="row">
                        <div class="col-8 text-center my-4 mx-auto">
                            <img src="../img/logo-loteria.png" alt="Lotería" title="Lotería" class="img-fluid logo-loteria">
                        </div>
                    </div>
                    <div class="planilla rounded-3 p-3 shadow-lg mb-5">
                        <div class="row row-cols-4 gy-0 gx-2" id="tarjetas">
                            <div class="col">
                                <div class="tarjeta n01 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n02 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n03 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n04 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <!--space-->
                            <div class="col">
                                <div class="tarjeta n05 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n06 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n07 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n08 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <!--space-->
                            <div class="col">
                                <div class="tarjeta n09 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n10 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n11 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n12 border border-2 mb-2 mb-md-3">
                                </div>
                            </div>
                            <!--space-->
                            <div class="col">
                                <div class="tarjeta n13 border border-2">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n14 border border-2">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n15 border border-2">
                                </div>
                            </div>
                            <div class="col">
                                <div class="tarjeta n16 border border-2">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            var codigo = getUrlParameter('codigo');
            if (codigo != undefined && codigo.length != 32)
                return false;

            var parts = codigo.match(/.{1,2}/g) || [];
            var figuras = "";

            $('#tarjetas').empty();
            parts.forEach(function (item) {
                var html = '<div class="col"><div class="tarjeta border border-2 mb-2 mb-md-3"><img src="/img/375/' + item + '.jpg" alt="Check" class="img-fluid"></div></div>';
                $('#tarjetas').append(html);
            }) 
        }); 

        $(document).on("click", ".col", function () {
            var $tarjeta = $(this).find(".tarjeta"); 

            if ($tarjeta.hasClass("active"))
            { 
                $tarjeta.removeClass("active"); 
            }
            else {
                $tarjeta.addClass("active");
            } 
            console.log('Botón de ubicación clickeado;')
        });

        var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = window.location.search.substring(1),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                }
            }
            return false;
        };

    </script>
</body>
</html>